(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{167:function(e,s,a){"use strict";a.r(s);var n=a(0),t=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",{staticClass:"content"},[a("p",[e._v("现代前端开发中，由于要不断的站在巨人的肩膀上前行，导致脚下巨人越来越多。项目结构越来越复杂，用到的技术越来越牛X，html+css+js各自在自己的发展路上一骑绝尘，甩的后方的前端开发者已经看不到前方。")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=767416906,3061741789&fm=26&gp=0.jpg",alt:"image"}})]),e._v(" "),a("p",[e._v("Webpack的出现，将前端不断出现的新模块、新资源、新需求，进行自动化整合、梳理、输出，使得前端开发者更加专注业务需求。")]),e._v(" "),a("h1",{attrs:{id:"核心和概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#核心和概念","aria-hidden":"true"}},[e._v("#")]),e._v(" 核心和概念")]),e._v(" "),a("blockquote",[a("p",[e._v("本质上，webpack 是一个现代 JavaScript 应用程序的静态模块打包器(module bundler)。当 webpack 处理应用程序时，它会递归地构建一个依赖关系图(dependency graph)，其中包含应用程序需要的每个模块，然后将所有这些模块打包成一个或多个 bundle。")])]),e._v(" "),a("p",[e._v("什么鬼东西，webpack就是把你写好的只有你自己认识的程序，整理翻译打包成漂亮的，大家都能看的程序。")]),e._v(" "),a("p",[e._v("webpack中有四个核心的概念。 entry、output、loader、plugins。\n按照流程这四个概念应该是")]),e._v(" "),a("ol",[a("li",[e._v("入口entry（你要从哪里收拾）")]),e._v(" "),a("li",[e._v("加载loader（开始收拾）")]),e._v(" "),a("li",[e._v("插件plugins（收拾完还觉的不满意就再加点功能）")]),e._v(" "),a("li",[e._v("出口output（收拾整理完之后放哪里）")])]),e._v(" "),a("p",[e._v("当然这是个基本理解。实际配置文件格式直接去官网上扒个模版就好,这里是个样子。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const path = require('path');\nmodule.exports = {\n  entry: './path/to/my/entry/file.js',\n  output: {\n    path: path.resolve(__dirname, 'dist'),\n    filename: 'my-first-webpack.bundle.js'\n  },\n  module: {\n    rules: [\n      { test: /\\.txt$/, use: 'raw-loader' }\n    ]\n  },\n  plugins: [\n    new webpack.optimize.UglifyJsPlugin(),\n    new HtmlWebpackPlugin({template: './src/index.html'})\n  ]\n};\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br"),a("span",{staticClass:"line-number"},[e._v("13")]),a("br"),a("span",{staticClass:"line-number"},[e._v("14")]),a("br"),a("span",{staticClass:"line-number"},[e._v("15")]),a("br"),a("span",{staticClass:"line-number"},[e._v("16")]),a("br"),a("span",{staticClass:"line-number"},[e._v("17")]),a("br")])]),a("p",[e._v("不过对于我们这种英文不好的小伙伴，明明是loader，配置里面用的却是module里面的rules，我只想说：神经病啊！\n"),a("img",{attrs:{src:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1538113962141&di=d4f6dbc084cf7c95cf306c0267203807&imgtype=0&src=http%3A%2F%2Fwx3.sinaimg.cn%2Forj360%2F006mqIjwgy1ffz6c3hj5fj30jg0ddjsa.jpg",alt:"image"}})]),e._v(" "),a("p",[e._v("到webpack4.0之后，不用自己添加配置文件也可以直接运行了，这个点赞。")]),e._v(" "),a("h1",{attrs:{id:"入口-entry"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#入口-entry","aria-hidden":"true"}},[e._v("#")]),e._v(" 入口(entry)")]),e._v(" "),a("p",[e._v("webpack中提供了多种定义入口属性的方式。提供单个入口语法和对象语法。不过呢，常用的配置方法是对象方法，用来包含你引入的第三方库。比如我常用的vue开发框架，带入到webpack配置文件里面就需要如下配置。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('const config = {\n  entry: {\n    app: \'./src/main.js\',\n    vendors: ["vue", "vue-router"]\n  }\n};\n')])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br")])]),a("p",[e._v("当然，多页面应用程序的也是可以的，直接配置里面配多个入口就行了。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const config = {\n  entry: {\n    pageOne: './src/pageOne/index.js',\n    pageTwo: './src/pageTwo/index.js',\n    pageThree: './src/pageThree/index.js'\n  }\n};\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br")])]),a("h1",{attrs:{id:"出口（output）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#出口（output）","aria-hidden":"true"}},[e._v("#")]),e._v(" 出口（output）")]),e._v(" "),a("p",[e._v("用来配置打包整理完的文件放哪里，但是有规定，不管单入口还是多入口，都只能放在一个地方。")]),e._v(" "),a("p",[e._v("所以配置信息需要配置输出的文件名filename和输出目录的绝对地址path。输出也分为单入口和多入口配置，但是呢多入口也兼容单入口，所以直接用一个配置就行了。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("{\n  output: {\n    filename: '[name].js',\n    path: __dirname + '/dist'\n  }\n}\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br")])]),a("h1",{attrs:{id:"加载器（loader）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#加载器（loader）","aria-hidden":"true"}},[e._v("#")]),e._v(" 加载器（loader）")]),e._v(" "),a("p",[e._v("laoder一定程度上其实是个翻译器，可以对代码在加载的时候就进行预处理，并且可以将不同的语言文件都转换成可理解的对象，Typescript转化成JavaScript，图片转化成data url，等等。")]),e._v(" "),a("p",[e._v("要想使用loader，就要先安装对应的loader包文件。对css有 css-loader，ts文件有  ts-loader, vue文件有 vue-loader，各种文件、图片、视频使用 url-loader，js转化使用 babel-loader，其他还有 style-loader、file-loader、csv-loader、xml-loader等等。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("module.exports = {\n  module: {\n    rules: [\n      { test: /\\.css$/, use: 'css-loader' },\n      { test: /\\.ts$/, use: 'ts-loader' },\n      { test: /\\.vue$/, use: 'vue-loader' },\n      { test: /\\.js$/, use: 'babel-loader' },\n      { test: /\\.(png|jpe?g|gif|svg)(\\?.*)?$/, use: 'url-loader' },\n      { test: /\\.(mp4|webm|ogg|mp3|wav|flac|aac)(\\?.*)?$/, use: 'file-loader' },\n    ]\n  }\n};\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br")])]),a("p",[a("strong",[e._v("loader特性")])]),e._v(" "),a("ul",[a("li",[e._v("loader支持链式操作。一个传一个")]),e._v(" "),a("li",[e._v("loader可同步可异步。")]),e._v(" "),a("li",[e._v("loader执行再node中，可以执行任何可能的操作")]),e._v(" "),a("li",[e._v("loader接受查询参数")]),e._v(" "),a("li",[e._v("laoder能有使用options进行配置")]),e._v(" "),a("li",[e._v("除了使用 package.json 常见的 main 属性，还可以将普通的 npm 模块导出为 loader，做法是在 package.json 里定义一个 loader 字段。")]),e._v(" "),a("li",[e._v("插件(plugin)可以为 loader 带来更多特性。")]),e._v(" "),a("li",[e._v("loader 能够产生额外的任意文件。")])]),e._v(" "),a("h1",{attrs:{id:"插件（plugins）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#插件（plugins）","aria-hidden":"true"}},[e._v("#")]),e._v(" 插件（plugins）")]),e._v(" "),a("p",[e._v("插件属于对loader的补充，loader不能实现的功能都可以在插件中进行。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const HtmlWebpackPlugin = require('html-webpack-plugin'); //通过 npm 安装\nconst webpack = require('webpack'); //访问内置的插件\nconst path = require('path');\n\nconst config = {\n  entry: './path/to/my/entry/file.js',\n  output: {\n    filename: 'my-first-webpack.bundle.js',\n    path: path.resolve(__dirname, 'dist')\n  },\n  module: {\n    rules: [\n      {\n        test: /\\.(js|jsx)$/,\n        use: 'babel-loader'\n      }\n    ]\n  },\n  plugins: [\n    new webpack.optimize.UglifyJsPlugin(),\n    new HtmlWebpackPlugin({template: './src/index.html'})\n  ]\n};\n\nmodule.exports = config;\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br"),a("span",{staticClass:"line-number"},[e._v("13")]),a("br"),a("span",{staticClass:"line-number"},[e._v("14")]),a("br"),a("span",{staticClass:"line-number"},[e._v("15")]),a("br"),a("span",{staticClass:"line-number"},[e._v("16")]),a("br"),a("span",{staticClass:"line-number"},[e._v("17")]),a("br"),a("span",{staticClass:"line-number"},[e._v("18")]),a("br"),a("span",{staticClass:"line-number"},[e._v("19")]),a("br"),a("span",{staticClass:"line-number"},[e._v("20")]),a("br"),a("span",{staticClass:"line-number"},[e._v("21")]),a("br"),a("span",{staticClass:"line-number"},[e._v("22")]),a("br"),a("span",{staticClass:"line-number"},[e._v("23")]),a("br"),a("span",{staticClass:"line-number"},[e._v("24")]),a("br"),a("span",{staticClass:"line-number"},[e._v("25")]),a("br")])]),a("h1",{attrs:{id:"webpack官方插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack官方插件","aria-hidden":"true"}},[e._v("#")]),e._v(" webpack官方插件")]),e._v(" "),a("p",[e._v("webpack 有着丰富的插件接口(rich plugin interface)。webpack 自身的多数功能都使用这个插件接口。这个插件接口使 webpack 变得极其灵活。")]),e._v(" "),a("table",[a("thead",[a("tr",[a("th",[e._v("Name")]),e._v(" "),a("th",[e._v("Description")])])]),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("AggressiveSplittingPlugin")]),e._v(" "),a("td",[e._v("将原来的 chunk 分成更小的 chunk")])]),e._v(" "),a("tr",[a("td",[e._v("BabelMinifyWebpackPlugin")]),e._v(" "),a("td",[e._v("使用 babel-minify进行压缩")])]),e._v(" "),a("tr",[a("td",[e._v("BannerPlugin")]),e._v(" "),a("td",[e._v("在每个生成的 chunk 顶部添加 banner")])]),e._v(" "),a("tr",[a("td",[e._v("CommonsChunkPlugin")]),e._v(" "),a("td",[e._v("提取 chunks 之间共享的通用模块")])]),e._v(" "),a("tr",[a("td",[e._v("CompressionWebpackPlugin")]),e._v(" "),a("td",[e._v("预先准备的资源压缩版本，使用 Content-Encoding 提供访问服务")])]),e._v(" "),a("tr",[a("td",[e._v("ContextReplacementPlugin")]),e._v(" "),a("td",[e._v("重写 require 表达式的推断上下文")])]),e._v(" "),a("tr",[a("td",[e._v("CopyWebpackPlugin")]),e._v(" "),a("td",[e._v("将单个文件或整个目录复制到构建目录")])]),e._v(" "),a("tr",[a("td",[e._v("DefinePlugin")]),e._v(" "),a("td",[e._v("允许在编译时(compile time)配置的全局常量")])]),e._v(" "),a("tr",[a("td",[e._v("DllPlugin")]),e._v(" "),a("td",[e._v("为了极大减少构建时间，进行分离打包")])]),e._v(" "),a("tr",[a("td",[e._v("EnvironmentPlugin")]),e._v(" "),a("td",[e._v("DefinePlugin 中 process.env 键的简写方式。")])]),e._v(" "),a("tr",[a("td",[e._v("ExtractTextWebpackPlugin")]),e._v(" "),a("td",[e._v("从 bundle 中提取文本（CSS）到单独的文件")])]),e._v(" "),a("tr",[a("td",[e._v("HotModuleReplacementPlugin")]),e._v(" "),a("td",[e._v("启用模块热替换(Enable Hot Module Replacement - HMR)")])]),e._v(" "),a("tr",[a("td",[e._v("HtmlWebpackPlugin")]),e._v(" "),a("td",[e._v("简单创建 HTML 文件，用于服务器访问")])]),e._v(" "),a("tr",[a("td",[e._v("I18nWebpackPlugin")]),e._v(" "),a("td",[e._v("为 bundle 增加国际化支持")])]),e._v(" "),a("tr",[a("td",[e._v("IgnorePlugin")]),e._v(" "),a("td",[e._v("从 bundle 中排除某些模块")])]),e._v(" "),a("tr",[a("td",[e._v("LimitChunkCountPlugin")]),e._v(" "),a("td",[e._v("设置 chunk 的最小/最大限制，以微调和控制 chunk")])]),e._v(" "),a("tr",[a("td",[e._v("LoaderOptionsPlugin")]),e._v(" "),a("td",[e._v("用于从 webpack 1 迁移到 webpack 2")])]),e._v(" "),a("tr",[a("td",[e._v("MinChunkSizePlugin")]),e._v(" "),a("td",[e._v("确保 chunk 大小超过指定限制")])]),e._v(" "),a("tr",[a("td",[e._v("NoEmitOnErrorsPlugin")]),e._v(" "),a("td",[e._v("在输出阶段时，遇到编译错误跳过")])]),e._v(" "),a("tr",[a("td",[e._v("NormalModuleReplacementPlugin")]),e._v(" "),a("td",[e._v("替换与正则表达式匹配的资源")])]),e._v(" "),a("tr",[a("td",[e._v("NpmInstallWebpackPlugin")]),e._v(" "),a("td",[e._v("在开发时自动安装缺少的依赖")])]),e._v(" "),a("tr",[a("td",[e._v("ProvidePlugin")]),e._v(" "),a("td",[e._v("不必通过 import/require 使用模块")])]),e._v(" "),a("tr",[a("td",[e._v("SourceMapDevToolPlugin")]),e._v(" "),a("td",[e._v("对 source map 进行更细粒度的控制")])]),e._v(" "),a("tr",[a("td",[e._v("EvalSourceMapDevToolPlugin")]),e._v(" "),a("td",[e._v("对 eval source map 进行更细粒度的控制")])]),e._v(" "),a("tr",[a("td",[e._v("UglifyjsWebpackPlugin")]),e._v(" "),a("td",[e._v("可以控制项目中 UglifyJS 的版本")])]),e._v(" "),a("tr",[a("td",[e._v("ZopfliWebpackPlugin")]),e._v(" "),a("td",[e._v("通过 node-zopfli 将资源预先压缩的版本")])])])]),e._v(" "),a("h1",{attrs:{id:"文末"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文末","aria-hidden":"true"}},[e._v("#")]),e._v(" 文末")]),e._v(" "),a("p",[e._v("当然，本文只是对webpack的最最基本的介绍文档。真正webpack里面可配置的东西太多了，更加输入了解可以直接去通读webpack的官方指南和api文档。")])])}],!1,null,null,null);t.options.__file="webpack.md";s.default=t.exports}}]);